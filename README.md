Установка Ubuntu 24.04 для работы с AI на отлично подходит для AMD GPU
==================================================

Этот гайд поможет владельцам видеокарт AMD избежать множества проблем при установке и настройке Ubuntu под задачи машинного обучения.

Подготовка
----------

Если вы используете Windows и планируете сохранить её:

1. Нужны два NVMe-диска: один для Windows, другой для Ubuntu (рекомендуется от 512 ГБ).
2. Флешка от 16 ГБ.

Скачайте:

- Образ Ubuntu 24.04: https://ubuntu.com/download/desktop
- Утилиту Balena Etcher: https://etcher.balena.io/

Запишите ISO-образ Ubuntu на флешку с помощью Etcher. После этого переходите к установке.

Установка
---------

Понадобится подключение к интернету.

1. Извлеките диск с Windows и временно отложите его.
2. Вставьте флешку и загрузитесь с неё.
3. Следуйте шагам установщика Ubuntu. Отмечайте все опции, предлагающие установить стороннее ПО.
4. Рекомендуется указать имя пользователя `general` или `основной`.

Если установщик неожиданно закрывается — запускайте установку заново и быстро проходите шаги без пауз.
(это известная проблема, которая появилась в 2024 году, и до сих пор не исправлена, т.к. причины не понятны,
способ спидрана хорошо зарекомендовал себя)

После установки Ubuntu предложит перезагрузиться и попросит извлечь флешку:

!(ВАЖНО) Не извлекайте флешку сразу — это может повредить её.  
- Либо нажмите Enter (не вытаскивая флешку) и выберите загрузочный диск вручную
- Либо нажмите enter (не вытаскивая флешку), дождитесь перезагрузки ПК и после появления логотипа, выключите или обесточьте пк, затем извлеките флешку.

Первичная настройка
--------------------

Рекомендуется использовать контейнеры LDX `Это утилита для Linux которая очень похожа на WSL, или виртуальную машину,
ее задача создавать полностью изолированную среду для установки проектов`

```bush
sudo apt update # получает список новых пакетов с сервера (условно проверка обновлений)
sudo apt upgrade # обновляет пакеты, если есть что обноввлять (собственно само условное обновление)

sudo snap install lxd # устанавливает программу
sudo usermod -aG lxd $USER # передает вашему пользователю права на пользования
sudo newgrp lxd   # обновление прав пользователя или нажать CTRL+ALT+DELETE > Выйти 
sudo lxd init # Настройка параметров контейнера (почти всегда нажимайте ENTER, кроме вопроса который указан ниже)
# На вопрос: Size in GiB of the new loop device (1GiB minimum) [default=30GiB]: 
# Ответьте "100" и нажмите Enter
```
Создание нового контейнера
```
lxc launch ubuntu:24.04 има_вашего_контейнера #используйте имена того прокта который вы хотите установить
lxc exec има_вашего_контейнера -- bash # запуск контейнера
lxc stop има_вашего_контейнера # остановка контейнера
```

Посмотреть список контейнеров можно в новом терминале (если вы введете команду в терменале с контейнером, он установит LDX внутрь контейнера)
`lxc list`

Просмотр характеристик внутри контейнера
```
echo "--- CPU ---"; lscpu | grep -E 'Model name|Socket|Thread|Core'
echo "--- RAM ---"; free -h
echo "--- Disk ---"; df -h /
echo "--- OS ---"; lsb_release -a
```



Зачем использовать контейнеры.
------------------------------------------

1. Можно удалить безопасно устанавливать проекты, не опасаясь проблем.
2. На AMD-графике нередко остаётся мусор в VRAM после работы с ComfyUI и др. закрыв контейнер, память гарантированно освободится.
Так-же память VRAM можно освободить при помощи смены пользоватя CTRL+ALT+DEL > Выйти и снова войдите в пользовател
3. Изоляция проектов снижает риск ошибок и упрощает организацию среды.

Это не панацея
----------

Этот подход не является единственным возможным, но он прост и эффективен для начальной настройки системы и первых проектов .

При возникновении вопросов или предложений создавайте issue в этом репозитории.
Если вам нужна помощь, так-же создавайте issue в этом репозитории.



------




Полезные команды:
```
#Что-бы изменить сочетание клавишь для смены языка
gsettings set org.gnome.desktop.wm.keybindings switch-input-source "['<Alt>Shift_L']"
#Это заставит "Не баг а фичу" засунуть саму себя в задницу.
